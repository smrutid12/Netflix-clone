{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"./axios\";import requests from\"./requests\";import\"./Banner.css\";import movieTrailer from\"movie-trailer\";import YouTube from\"react-youtube\";import CloseIcon from\"@mui/icons-material/Close\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Banner(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),trailerUrl=_useState6[0],setTrailerUrl=_useState6[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get((requests===null||requests===void 0?void 0:requests.fetchTopRated)&&(requests===null||requests===void 0?void 0:requests.fetchDocumentaries)&&(requests===null||requests===void 0?void 0:requests.fetchRomanceMovies)&&(requests===null||requests===void 0?void 0:requests.fetchComedyMovies)&&(requests===null||requests===void 0?void 0:requests.fetchActionMovies));case 2:request=_context.sent;console.log(request);setMovie(request.data.results[Math.floor(Math.random()*request.data.results.length-1)]);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function truncate(str,n){return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+\" ...\":str;}var handleClick=function handleClick(){movieTrailer(null,{tmdbId:movie.id}).then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get(\"v\"));}).catch(function(error){return console.log(error);});};var opts={height:\"440\",width:\"100%\",playerVars:{autoplay:1}};return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",show===false&&/*#__PURE__*/_jsxs(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundImage:\"url('https://image.tmdb.org/t/p/original/\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"')\"),backgroundPosition:\"center center\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner__contents\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"banner__title\",children:(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"banner__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"banner__button\",onClick:function onClick(){setShow(true);handleClick();},children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{className:\"banner__button\",children:\"My List\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"banner__description\",children:truncate(movie===null||movie===void 0?void 0:movie.overview,150)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"banner--fadeButton\"})]}),show===true&&/*#__PURE__*/_jsx(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundPosition:\"center center\"},children:trailerUrl&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CloseIcon,{style:{position:\"fixed\",button:\"50%\",zIndex:\"1\",left:\"50%\",cursor:\"pointer\"},onClick:function onClick(){setTrailerUrl(\"\");setShow(false);}}),/*#__PURE__*/_jsx(YouTube,{videoId:trailerUrl,opts:opts})]})})]});}export default Banner;","map":{"version":3,"names":["React","useState","useEffect","axios","requests","movieTrailer","YouTube","CloseIcon","Banner","movie","setMovie","show","setShow","trailerUrl","setTrailerUrl","fetchData","get","fetchTopRated","fetchDocumentaries","fetchRomanceMovies","fetchComedyMovies","fetchActionMovies","request","console","log","data","results","Math","floor","random","length","truncate","str","n","substr","handleClick","tmdbId","id","then","url","urlParams","URLSearchParams","URL","search","catch","error","opts","height","width","playerVars","autoplay","backgroundSize","backgroundImage","backdrop_path","backgroundPosition","title","name","original_name","overview","position","button","zIndex","left","cursor"],"sources":["D:/Projects/MERN Stack/netflix/netflix/src/Banner.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"./axios\";\r\nimport requests from \"./requests\";\r\nimport \"./Banner.css\";\r\nimport movieTrailer from \"movie-trailer\";\r\nimport YouTube from \"react-youtube\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\nfunction Banner() {\r\n  const [movie, setMovie] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [trailerUrl, setTrailerUrl] = useState();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const request = await axios.get(requests?.fetchTopRated && requests?.fetchDocumentaries &&requests?.fetchRomanceMovies && requests?.fetchComedyMovies &&requests?.fetchActionMovies );\r\n      console.log(request)\r\n      setMovie(\r\n        request.data.results[\r\n          Math.floor(Math.random() * request.data.results.length - 1)\r\n        ]\r\n      );\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  function truncate(str, n) {\r\n    return str?.length > n ? str.substr(0, n - 1) + \" ...\" : str;\r\n  }\r\n\r\n  const handleClick = () => {\r\n    movieTrailer(null, { tmdbId: movie.id })\r\n      .then((url) => {\r\n        const urlParams = new URLSearchParams(new URL(url).search);\r\n        setTrailerUrl(urlParams.get(\"v\"));\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n  const opts = {\r\n    height: \"440\",\r\n    width: \"100%\",\r\n    playerVars: {\r\n      autoplay: 1,\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {show === false && (\r\n        <header\r\n          className=\"banner\"\r\n          style={{\r\n            backgroundSize: \"cover\",\r\n            backgroundImage: `url('https://image.tmdb.org/t/p/original/${movie?.backdrop_path}')`,\r\n            backgroundPosition: \"center center\",\r\n          }}\r\n        >\r\n          <div className=\"banner__contents\">\r\n            {/* title */}\r\n            <h1 className=\"banner__title\">\r\n              {movie?.title || movie?.name || movie?.original_name}\r\n            </h1>\r\n            <div className=\"banner__buttons\">\r\n              <button\r\n                className=\"banner__button\"\r\n                onClick={() => {\r\n                  setShow(true);\r\n                  handleClick();\r\n                }}\r\n              >\r\n                Play\r\n              </button>\r\n              <button className=\"banner__button\">My List</button>\r\n            </div>\r\n            <h1 className=\"banner__description\">\r\n              {truncate(movie?.overview, 150)}\r\n            </h1>\r\n          </div>\r\n          {/* shading effect on the banner */}\r\n          <div className=\"banner--fadeButton\" />\r\n        </header>\r\n      )}\r\n      {show === true && (\r\n        <header\r\n          className=\"banner\"\r\n          style={{\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center center\",\r\n          }}\r\n        >\r\n          {trailerUrl && (\r\n            <>\r\n              <CloseIcon\r\n                style={{\r\n                  position: \"fixed\",\r\n                  button: \"50%\",\r\n                  zIndex:\"1\",\r\n                  left: \"50%\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => {\r\n                  setTrailerUrl(\"\");\r\n                  setShow(false);\r\n                }}\r\n              />\r\n              <YouTube videoId={trailerUrl} opts={opts} />\r\n            </>\r\n          )}\r\n        </header>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Banner;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}