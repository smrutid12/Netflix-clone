{"ast":null,"code":"import _regeneratorRuntime from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Projects/MERN Stack/netflix/netflix/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"./axios\";import requests from\"./requests\";import\"./Banner.css\";import movieTrailer from\"movie-trailer\";import YouTube from\"react-youtube\";import CloseIcon from\"@mui/icons-material/Close\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Banner(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),trailerUrl=_useState6[0],setTrailerUrl=_useState6[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get((requests===null||requests===void 0?void 0:requests.fetchTopRated)&&(requests===null||requests===void 0?void 0:requests.fetchDocumentaries)&&(requests===null||requests===void 0?void 0:requests.fetchRomanceMovies)&&(requests===null||requests===void 0?void 0:requests.fetchComedyMovies)&&(requests===null||requests===void 0?void 0:requests.fetchActionMovies));case 2:request=_context.sent;console.log(request);setMovie(request.data.results[Math.floor(Math.random()*request.data.results.length-1)]);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function truncate(str,n){return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+\" ...\":str;}var handleClick=function handleClick(){movieTrailer(null,{tmdbId:movie.id}).then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get(\"v\"));}).catch(function(error){return console.log(error);});};var opts={height:\"440\",width:\"100%\",playerVars:{autoplay:1}};return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",show===false&&/*#__PURE__*/_jsxs(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundImage:\"url('https://image.tmdb.org/t/p/original/\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"')\"),backgroundPosition:\"center center\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner__contents\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"banner__title\",children:(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"banner__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"banner__button\",onClick:function onClick(){setShow(true);handleClick();},children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{className:\"banner__button\",children:\"My List\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"banner__description\",children:truncate(movie===null||movie===void 0?void 0:movie.overview,150)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"banner--fadeButton\"})]}),show===true&&/*#__PURE__*/_jsx(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundPosition:\"center center\"},children:trailerUrl&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CloseIcon,{style:{position:\"fixed\",button:\"50%\",zIndex:\"1\",left:\"50%\",cursor:\"pointer\"},onClick:function onClick(){setTrailerUrl(\"\");setShow(false);}}),/*#__PURE__*/_jsx(YouTube,{videoId:trailerUrl,opts:opts})]})})]});}export default Banner;","map":{"version":3,"sources":["D:/Projects/MERN Stack/netflix/netflix/src/Banner.js"],"names":["React","useState","useEffect","axios","requests","movieTrailer","YouTube","CloseIcon","Banner","movie","setMovie","show","setShow","trailerUrl","setTrailerUrl","fetchData","get","fetchTopRated","fetchDocumentaries","fetchRomanceMovies","fetchComedyMovies","fetchActionMovies","request","console","log","data","results","Math","floor","random","length","truncate","str","n","substr","handleClick","tmdbId","id","then","url","urlParams","URLSearchParams","URL","search","catch","error","opts","height","width","playerVars","autoplay","backgroundSize","backgroundImage","backdrop_path","backgroundPosition","title","name","original_name","overview","position","button","zIndex","left","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"./axios\";\r\nimport requests from \"./requests\";\r\nimport \"./Banner.css\";\r\nimport movieTrailer from \"movie-trailer\";\r\nimport YouTube from \"react-youtube\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\nfunction Banner() {\r\n  const [movie, setMovie] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [trailerUrl, setTrailerUrl] = useState();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const request = await axios.get(requests?.fetchTopRated && requests?.fetchDocumentaries &&requests?.fetchRomanceMovies && requests?.fetchComedyMovies &&requests?.fetchActionMovies );\r\n      console.log(request)\r\n      setMovie(\r\n        request.data.results[\r\n          Math.floor(Math.random() * request.data.results.length - 1)\r\n        ]\r\n      );\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  function truncate(str, n) {\r\n    return str?.length > n ? str.substr(0, n - 1) + \" ...\" : str;\r\n  }\r\n\r\n  const handleClick = () => {\r\n    movieTrailer(null, { tmdbId: movie.id })\r\n      .then((url) => {\r\n        const urlParams = new URLSearchParams(new URL(url).search);\r\n        setTrailerUrl(urlParams.get(\"v\"));\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n  const opts = {\r\n    height: \"440\",\r\n    width: \"100%\",\r\n    playerVars: {\r\n      autoplay: 1,\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      {\" \"}\r\n      {show === false && (\r\n        <header\r\n          className=\"banner\"\r\n          style={{\r\n            backgroundSize: \"cover\",\r\n            backgroundImage: `url('https://image.tmdb.org/t/p/original/${movie?.backdrop_path}')`,\r\n            backgroundPosition: \"center center\",\r\n          }}\r\n        >\r\n          <div className=\"banner__contents\">\r\n            {/* title */}\r\n            <h1 className=\"banner__title\">\r\n              {movie?.title || movie?.name || movie?.original_name}\r\n            </h1>\r\n            <div className=\"banner__buttons\">\r\n              <button\r\n                className=\"banner__button\"\r\n                onClick={() => {\r\n                  setShow(true);\r\n                  handleClick();\r\n                }}\r\n              >\r\n                Play\r\n              </button>\r\n              <button className=\"banner__button\">My List</button>\r\n            </div>\r\n            <h1 className=\"banner__description\">\r\n              {truncate(movie?.overview, 150)}\r\n            </h1>\r\n          </div>\r\n          {/* shading effect on the banner */}\r\n          <div className=\"banner--fadeButton\" />\r\n        </header>\r\n      )}\r\n      {show === true && (\r\n        <header\r\n          className=\"banner\"\r\n          style={{\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center center\",\r\n          }}\r\n        >\r\n          {trailerUrl && (\r\n            <>\r\n              <CloseIcon\r\n                style={{\r\n                  position: \"fixed\",\r\n                  button: \"50%\",\r\n                  zIndex:\"1\",\r\n                  left: \"50%\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                onClick={() => {\r\n                  setTrailerUrl(\"\");\r\n                  setShow(false);\r\n                }}\r\n              />\r\n              <YouTube videoId={trailerUrl} opts={opts} />\r\n            </>\r\n          )}\r\n        </header>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Banner;\r\n"]},"metadata":{},"sourceType":"module"}